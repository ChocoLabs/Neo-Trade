/* ---------------------------------------------------------
   NeoTrade – Hoja de estilos avanzada (Tailwind + CSS puro)
   ---------------------------------------------------------
   - Define una escala cromática coherente y accesible
   - Añade efectos sutiles (glassmorphism, sombras suaves, animaciones)
   - Personaliza componentes clave: chat‑bubbles, botones, scrollbar, panel
   - Suporta tema claro/oscuro con CSS vars + clases `dark:` de Tailwind
   --------------------------------------------------------- */

/********************
 * CARGA DE FUENTES *
 ********************/
 @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");

 html {
   font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
 }
 
 /***********************
  * PALETA Y VARIABLES  *
  ***********************/
 :root {
   /* Base (modo claro) */
   --nt-bg:              #ffffff;
   --nt-bg-muted:        #f8fafc; /* slate‑50 */
   --nt-text:            #0f172a; /* slate‑900 */
   --nt-text-muted:      #64748b; /* slate‑500 */
   --nt-primary:         #4f46e5; /* indigo‑600 */
   --nt-primary-hover:   #4338ca; /* indigo‑700 */
   --nt-scroll-thumb:    var(--nt-primary);
   --nt-border:          #e2e8f0; /* slate‑200 */
   --nt-surface-opacity: 0.75;     /* para glassmorphism */
 }
 
 .dark {
   /* Modo oscuro */
   --nt-bg:              #0f172a; /* slate‑900 */
   --nt-bg-muted:        #1e293b; /* slate‑800 */
   --nt-text:            #f8fafc; /* slate‑50  */
   --nt-text-muted:      #94a3b8; /* slate‑400 */
   --nt-primary:         #8b5cf6; /* violet‑500 */
   --nt-primary-hover:   #7c3aed; /* violet‑600 */
   --nt-scroll-thumb:    var(--nt-primary);
   --nt-border:          #334155; /* slate‑700 */
   --nt-surface-opacity: 0.55;
 }
 
 /***********************
  * REGLAS GENERALES    *
  ***********************/
 body {
   background-color: var(--nt-bg);
   color: var(--nt-text);
   transition: background-color 0.3s ease, color 0.3s ease;
 }
 
 h1, h2, h3, h4, h5, h6 {
   color: var(--nt-text);
   font-weight: 600;
 }
 
 /* Glassmorphism para header, footer y formulario */
 .header,
 .footer,
 .chat-form {
   backdrop-filter: blur(12px) saturate(160%);
   background-color: rgba(255, 255, 255, var(--nt-surface-opacity));
   border-bottom: 1px solid var(--nt-border);
 }
 .dark .header,
 .dark .footer,
 .dark .chat-form {
   background-color: rgba(15, 23, 42, var(--nt-surface-opacity));
 }
 
 /***************************
  * SCROLLBAR PERSONALIZADO *
  ***************************/
 .messages::-webkit-scrollbar {
   width: 8px;
 }
 .messages::-webkit-scrollbar-track {
   background: transparent;
 }
 .messages::-webkit-scrollbar-thumb {
   background-color: var(--nt-scroll-thumb);
   border-radius: 9999px;
   transition: background-color 0.2s ease;
 }
 .messages:hover::-webkit-scrollbar-thumb {
   background-color: var(--nt-primary-hover);
 }
 .messages {
   scrollbar-width: thin;
   scrollbar-color: var(--nt-scroll-thumb) transparent;
 }
 
 /***************************
  * ANIMACIONES & EFECTOS   *
  ***************************/
 @keyframes fadeInSlideUp {
   from {
     opacity: 0;
     transform: translateY(6px);
   }
   to {
     opacity: 1;
     transform: translateY(0);
   }
 }
 
 .message-enter {
   animation: fadeInSlideUp 0.25s cubic-bezier(0.33, 1, 0.68, 1) both;
 }
 
 @keyframes wiggle {
   0%, 100% { transform: rotate(-3deg); }
   50% { transform: rotate(3deg); }
 }
 
 #theme-toggle.rotated {
   animation: wiggle 0.4s ease-in-out; /* rotación divertida */
 }
 
 /***********************
  * BOTONES & INPUTS    *
  ***********************/
 .send-btn,
 #run-script {
   background: linear-gradient(135deg, var(--nt-primary), var(--nt-primary-hover));
   color: #fff;
   border: none;
   box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
   transition: transform 0.15s ease, box-shadow 0.15s ease;
 }
 .send-btn:hover,
 #run-script:hover {
   transform: translateY(-2px);
   box-shadow: 0 6px 12px rgba(0, 0, 0, 0.12);
 }
 .send-btn:active,
 #run-script:active {
   transform: translateY(0);
   box-shadow: 0 1px 2px rgba(0, 0, 0, 0.12);
 }
 
 textarea {
   line-height: 1.45;
   background-color: var(--nt-bg-muted);
   border: 1px solid var(--nt-border);
   color: var(--nt-text);
   transition: border-color 0.2s ease, background-color 0.2s ease;
 }
 textarea:focus {
   border-color: var(--nt-primary);
   background-color: var(--nt-bg);
 }
 .dark textarea {
   background-color: var(--nt-bg-muted);
 }
 
 textarea::placeholder {
   color: var(--nt-text-muted);
 }
 
 /* Select estilizado */
 #script-select {
   background-color: var(--nt-bg-muted);
   border: 1px solid var(--nt-border);
   color: var(--nt-text);
   transition: border-color 0.2s ease, background-color 0.2s ease;
 }
 #script-select:focus {
   border-color: var(--nt-primary);
   background-color: var(--nt-bg);
 }
 
 /***********************
  * CHAT BUBBLES        *
  ***********************/
 .chat-bubble {
   max-width: 80%;
   padding: 0.75rem 1rem;
   border-radius: 1rem;
   box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
   animation: fadeInSlideUp 0.25s ease-out both;
   word-wrap: break-word;
 }
 .chat-bubble.user {
   margin-left: auto;
   background: var(--nt-primary);
   color: #fff;
   border-bottom-right-radius: 0.25rem;
 }
 .chat-bubble.assistant {
   margin-right: auto;
   background: var(--nt-bg-muted);
   color: var(--nt-text);
   border-bottom-left-radius: 0.25rem;
 }
 .dark .chat-bubble.assistant {
   background: var(--nt-bg-muted);
   color: var(--nt-text);
 }
 
 /***********************
  * ASIDE PANEL         *
  ***********************/
 .assistant-panel {
   background: var(--nt-bg-muted);
   border-left: 1px solid var(--nt-border);
   box-shadow: -2px 0 4px rgba(0,0,0,0.03);
   transition: transform 0.3s ease;
 }
 
 @media (max-width: 767px) {
   /* Panel deslizable en móviles */
   .assistant-panel {
     position: fixed;
     right: 0;
     top: 0;
     height: 100%;
     transform: translateX(100%);
     z-index: 20;
   }
   .assistant-panel.open {
     transform: translateX(0);
   }
 }
 
 /************************
  * PIE DE PÁGINA        *
  ************************/
 .footer a {
   color: var(--nt-primary);
   text-decoration-thickness: 1px;
   text-underline-offset: 2px;
   transition: color 0.15s ease;
 }
 .footer a:hover {
   color: var(--nt-primary-hover);
 }
 
 /***********************
  * UTILIDADES EXTRA    *
  ***********************/
 .shadow-soft {
   box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
 }
 .rounded-2xl {
   border-radius: 1rem;
 }
 .max-h-60vh { /* tailwind arbitrary es tricky en css puro */
   max-height: 60vh;
 }
 